# Neo域名服务(Neo Name Service)技术白皮书

参考文档
>[NNS系统概述](tech/system.md)
>
>[NNS Namehash算法详解](tech/namehash.md)
>
>[NNS协议规范](tech/protocol.md)
>
>[NNS 经济系统]()
>
## NNS是什么

NNS是Neo的域名服务，是一个基于Neo区块链的分布式、开源和可扩展的域名系统。
旨在将钱包地址、智能合约Hash等人类难以记忆的无规则的字符串用单词短语简写等代替。

通过域名服务，人们再也不用记忆看不懂的地址和Hash，只要知道一个单词或一个短语就能进行转账、使用合约。   

NNS可以将域名解析到各种目标。最容易联想到的是Neo的地址（Address），或者智能合约（ScriptHash）。
预留了足够的扩展性，可以在NNS不升级的情况下支持更多的解析目标种类。


## 基本概念解释

### 域名
   
    以url http://www.abc.test为例

&emsp;&emsp;http 是协议,www abc test 为域名，test是根域名或者顶级域名,
abc称为二级域名,www称为三级域名，不限制域名的级数，但是通常以二级域名和三级域名最为常用

### 协议
   
    以url 
        http://www.abc.test
        addr://www.abc.test
        script://www.abc.test
    为例

http addr script 为协议，根据不同的协议解析器返回不同的解析数据。

NNS系统已经约定了一些协议，详见[NNS协议规范](tech/protocol.md)
    
### 顶级域名

    以url http://www.abc.test 为例

&emsp;&emsp;test就是顶级域名，顶级域名不可直接访问，http://test 无效。

&emsp;&emsp;顶级域名又称为根域名。

&emsp;&emsp;用户通过顶级域名对应的智能合约，进行各种操作。
### 子域名
&emsp;&emsp;顶级域名不是任何人的子域名，二级域名是顶级域名的子域名，三级域名是二级域名的子域名，以此类推。
在我们的系统里，用户可以取得的最高层级是二级域名，二级域名的注册器可以将二级域名所属的三级域名分配给其他人。
### Namehash
&emsp;&emsp;NNS中存储的域名为32字节散列值，而不是域名原文的文本。
关于具体算法，详见[NNS Namehash算法详解](tech/namehash.md)
### 所有者
&emsp;&emsp;根域名的所有者和注册器都由管理员控制。

&emsp;&emsp;除顶级域名外，每一层域名的所有者可以是账户地址或者智能合约。
比如：二级域名的所有者可以设置自己的二级域名使用的注册器与解析器。
二级域名所属的三级域名的所有权，需要通过二级域名的注册器分配。

&emsp;&emsp;所有者不能直接分配三级域名的所有权。这需要取决于所有者设置的注册器的行为。

&emsp;&emsp;所有者代表一级域名的所有权。

&emsp;&emsp;当所有者是一个智能合约时，可以实现复杂的所有权控制，比如双人签名，多人投票等机制
### 注册器
&emsp;&emsp;注册器负责分配一个域名的子域名。
比如test顶级域名的注册器是一个先到先得注册器，任何人可以向该注册器所要未分配的与过期的二级域名。
neo顶级域名的注册器会是采用拍卖的系统进行分配。

&emsp;&emsp;注册器代表对子域名的分配策略。

&emsp;&emsp;如果二级域名的所有者设置了一个有所有者手工配置的注册器，那么二级域名所属子域名的分配权全部有所有者手工配置。

&emsp;&emsp;如果二级域名的所有者设置了一个先到先得注册器或者拍卖注册器，那么等同于放弃了二级域名所属子域名的控制权，让大家自由申请子域名。
### 解析器
&emsp;&emsp;解析器负责解析域名

### 有效期
&emsp;&emsp;除顶级域名外，每一个二级域名都有有效期，注册器在分配域名时指定，注册器分配的最大有效期不得超过注册器自己所在域名的有效期。

&emsp;&emsp;过期域名可以被再次分配，要维持所有权，可以在未到期前通过注册器重置有效期。

---

## 系统组成

### 智能合约
    
以顶级域名合约作为入口，辅以各种合约共同构成NNS的智能合约体系。

所有者合约(用户可定制)

注册器合约(用户可定制)

解析器合约(用户可定制)

详情见[NNS系统概述](tech/system.md)

### 经济系统

NNS 将发行一种称为NNC的代币，用作建设NNS的经济系统，可以用来拍卖域名，支付域名租金等

详情见[NNS经济系统-NNC代币](econo/nnc.md)

NNS的域名将采用拍卖机制流转

详情见[NNS经济系统-拍卖](econo/auction.md)

### 域名浏览器

NNS域名浏览器是提供NNS域名查询，拍卖，转让等功能的入口。

### 反向解析

NNS将支持反向解析，反向解析将称为验证地址、验证智能合约的一个有效手段。

### 第三方合作

NNS会和各种第三方交易所、钱包进行对接。
推广他们使用NNS的服务。

NNS所有的协议的公开的，任何人都可以自由使用NNS的服务。从中获取域名所带来的便利。


## 技术路线图
- 2017.12 正式发布NNS技术白皮书
---
- 2017.12 完成技术原理测试和验证
- 2018.1.31 在测试网发布包括注册器、解析器的NNS第一阶段测试服务，任何人可以注册未被注册且符合规则的域名
- xxxx.xx.xx 发布基于测试网的域名浏览器V1
- xxxx.xx.xx 在测试网发行NNC
- xxxx.xx.xx 在测试网发布包含竞标服务的NNS第二阶段测试服务，任何人可以向NEL申请NNC进行竞标测试域名
- xxxx.xx.xx 发布基于测试网的域名浏览器V2
---
- xxxx.xx.xx 在正式网发行NNC
- xxxx.xx.xx 在正式网上发布NNS正式服务，Neo域名时代来临
- xxxx.xx.xx 发布基于正式网的域名浏览器
